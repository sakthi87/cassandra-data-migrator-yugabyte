# =============================================================================
# AGGRESSIVE MIGRATION CONFIGURATION
# =============================================================================
# This configuration uses aggressive settings to maximize performance
# Based on the correct property names from KnownProperties.java

# =============================================================================
# CASSANDRA SOURCE CONFIGURATION
# =============================================================================
spark.cdm.connect.origin.host=vcausc11udev057.azr.bank-dns.com
spark.cdm.connect.origin.port=9042
spark.cdm.connect.origin.username=cassandraappiduat
spark.cdm.connect.origin.password=Uat@123456
spark.cdm.connect.origin.localDC=datacenter1
spark.cdm.connect.origin.consistencyLevel=LOCAL_ONE

# =============================================================================
# YUGABYTEDB TARGET CONFIGURATION
# =============================================================================
spark.cdm.connect.target.yugabyte.host=vcausc11udev057.azr.bank-dns.com
spark.cdm.connect.target.yugabyte.port=5433
spark.cdm.connect.target.yugabyte.database=cdmybtest
spark.cdm.connect.target.yugabyte.username=yugabyte
spark.cdm.connect.target.yugabyte.password=password

# =============================================================================
# SCHEMA CONFIGURATION
# =============================================================================
spark.cdm.schema.origin.keyspaceTable=customer_datastore.customer_mtrc_by_lpid
spark.cdm.schema.target.keyspaceTable=customer_datastore.customer_mtrc_by_lpid

# =============================================================================
# SPARK CONFIGURATION (AGGRESSIVE)
# =============================================================================
spark.executor.cores=8
spark.executor.instances=4
spark.executor.memory=8G
spark.driver.memory=8G
spark.sql.adaptive.enabled=true
spark.sql.adaptive.coalescePartitions.enabled=true
spark.sql.adaptive.skewJoin.enabled=true
spark.serializer=org.apache.spark.serializer.KryoSerializer
spark.sql.adaptive.advisoryPartitionSizeInBytes=64MB
spark.network.timeout=600s
spark.sql.broadcastTimeout=600s

# =============================================================================
# CDM CONFIGURATION (AGGRESSIVE SETTINGS)
# =============================================================================
# Aggressive settings to maximize performance

# Number of partitions (increased for better parallelism)
spark.cdm.perfops.numParts=1000

# Rate limits (increased significantly)
spark.cdm.perfops.ratelimit.origin=50000
spark.cdm.perfops.ratelimit.target=50000

# Batch size (moderate to avoid memory issues)
spark.cdm.perfops.batchSize=2000

# Fetch size (increased for better read performance)
spark.cdm.perfops.fetchSizeInRows=10000

# =============================================================================
# CONNECTION SETTINGS
# =============================================================================
spark.cdm.connect.origin.timeout=120000
spark.cdm.connect.target.yugabyte.timeout=120000
spark.cdm.connect.target.yugabyte.maxConnections=16
spark.cdm.connect.target.yugabyte.connectionTimeout=60000
spark.cdm.connect.target.yugabyte.socketTimeout=120000

# =============================================================================
# LOGGING
# =============================================================================
spark.cdm.log.directory=migration_logs
spark.cdm.log.level=INFO
