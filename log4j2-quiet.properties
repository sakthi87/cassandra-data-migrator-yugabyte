# Quiet Log4j2 configuration - minimal logging
# Copyright DataStax, Inc.

appender.0.type = Console
appender.0.name = CONSOLE
appender.0.layout.type = PatternLayout
appender.0.layout.pattern = %d %-5p [%t] %c{1}:%L - %m%n

appender.1.type = RollingFile
appender.1.name = MAIN
appender.1.fileName = cdm_logs/cdm.log
appender.1.filePattern = cdm_logs/cdm.%d{yyyy-MM-dd-HHmm}.%i.log
appender.1.layout.type = PatternLayout
appender.1.layout.pattern = %d %-5p [%t] %c{1}:%L - %m%n
appender.1.policy.type = Policies
appender.1.policy.0.type = OnStartupTriggeringPolicy
appender.1.policy.1.type = SizeBasedTriggeringPolicy
appender.1.policy.1.size = 10m
appender.1.strategy.type = DefaultRolloverStrategy
appender.1.strategy.max = 100

# Set root logger to WARN level (only warnings and errors)
rootLogger.level = WARN
rootLogger.appenderRef.0.ref = CONSOLE
rootLogger.appenderRef.0.level = WARN

# CDM specific logger - set to INFO to see migration progress
logger.0.name = com.datastax.cdm
logger.0.level = INFO
logger.0.additivity = false
logger.0.appenderRef.0.ref = MAIN

# Suppress noisy loggers
logger.1.name = org.apache.spark
logger.1.level = WARN
logger.1.additivity = false

logger.2.name = org.apache.cassandra
logger.2.level = WARN
logger.2.additivity = false

logger.3.name = com.datastax.oss.driver
logger.3.level = WARN
logger.3.additivity = false

logger.4.name = org.postgresql
logger.4.level = WARN
logger.4.additivity = false

logger.5.name = com.zaxxer.hikari
logger.5.level = WARN
logger.5.additivity = false
